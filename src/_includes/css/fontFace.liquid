/* https://www.industrialempathy.com/perfect-ish-font-fallback/?font=Fira%20Sans */
@font-face {
  font-family: "Sans-fallback";
  size-adjust: 102.59%;
  src: local("Arial");
}
{%- comment -%}Loop over the global font config and construct a series of @font-face declarations. We later feed this to scss to minify the output and inline it in the head for performance.{%- endcomment -%}
{%- for fontType in requiredFonts -%}
  {%- assign font = fonts[fontType] -%}
  {%- comment -%}Don't generate @font-face declarations if explicitly disabled.{%- endcomment -%}
  {%- if font.hasFontFace != false -%}
    {%- comment -%}Variable fonts{%- endcomment -%}
    {%- if font.isVariable -%}
      @font-face {
        font-family: "{{ font.family }}";
        font-style: {{ font.style | default: "normal" }};
        font-weight: {{ font.variableWeights.min }} {{ font.variableWeights.max }};
        {% if font.display -%}font-display: {{ font.display }};{%- endif -%}
        src: local("{{ font.family }}"), local("{{ font.postscriptName }}"), url("{{ font.urls.roman }}") format("woff2 supports variations"), url("{{ font.urls.roman }}") format("woff2-variations");
      }
      @font-face {
        font-family: "{{ font.family }}";
        font-style: italic;
        font-weight: {{ font.variableWeights.min }} {{ font.variableWeights.max }};
        {% if font.display -%}font-display: {{ font.display }};{%- endif -%}
        src: local("{{ font.family }}"), local("{{ font.postscriptName }}"), url("{{ font.urls.italic }}") format("woff2 supports variations"), url("{{ font.urls.italic }}") format("woff2-variations");
      }
    {%- comment -%}Non-variable fonts{%- endcomment -%}
    {%- else -%}
      {%- assign variants = font.variants | values -%}
      {%- for variant in variants -%}
        {%- if variant.url -%}
          {%- assign format = variant.url | split: "." | last -%}
          @font-face {
            font-family: "{{ font.family }}";
            font-style: {{ variant.style }};
            font-weight: {{ variant.weight }};
            {% if variant.display -%}font-display: {{ variant.display }};{%- endif -%}
            src: local("{{ font.family }}"), local("{{ variant.postscriptName }}"), url("{{ variant.url }}") format("{{ format }}");
          }
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}