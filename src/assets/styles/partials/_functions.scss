@use 'sass:math';
@import './breakpoints';
@import './zIndex';

@function toRem($px) {
  $rem: math.div($px, 10px) * 1rem;
  @return $rem;
}

@function z-index($key) {
  @return map-get($zIndex, $key);
}

@function rnd($number, $places: 0) {
  $n: 1;

  @if $places > 0 {
    @for $i from 1 through $places {
      $n: $n * 10;
    }
  }

  @return math.div(math.round($number * $n), $n);
}

/// Returns a CSS clamp(...) declaration, with the responsive argument computed automatically.
/// It's assumed that min should correspond to the minimum mobile breakpoint for design work.
@function clamped($min, $max) {
  $mobile-min-rems: toRem(map-get($media-breakpoints, 'mobile-min'));
  $min-to-mobile-ratio: rnd(math.div($min, $mobile-min-rems), 2) * 100;
  @return clamp(#{$min}, #{$min-to-mobile-ratio}vw, #{$max});
}
