---
layout: default
---

<article id="post">
  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    {% if page.lastUpdated %}
    {% assign lastUpdated = page.lastUpdated %}
    {% endif %}
    {% include posts/stats.html content=page.content date=page.date lastUpdated=lastUpdated tags=page.tags %}
  </header>
  <!-- Don't wrap so we can take advantage of CSS grid, until subgrids become a thing at least -->
  {{ content }}
</article>

{% if page.needsLatex %}
  <!-- Credit: https://xuc.me/blog/katex-and-jekyll/ -->
  <!-- Load jQuery -->
  <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
  <!-- Load KaTeX -->
  <link
    rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css"
  />
  <script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>
    $("script[type='math/tex']").replaceWith(function() {
      var tex = $(this).text();

      return (
        '<span class="inline-equation">' + katex.renderToString(tex) + "</span>"
      );
    });

    $("script[type='math/tex; mode=display']").replaceWith(function() {
      var tex = $(this).text();

      return (
        '<div class="block-equation">' +
        katex.renderToString("\\displaystyle " + tex) +
        "</div>"
      );
    });
  </script>
{% endif %}
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "url": "{{ site.url }}{{ page.url }}",
    "name": {{ page.title | escape | jsonify }},
    "headline": {{ page.title | escape | jsonify }},
    "keywords": {{ page.tags | join: ',' | jsonify }},
    "description": {{ page.description | strip_newlines | strip | jsonify }},
    "articleBody": {{ page.content | strip_html | jsonify }},
    "datePublished": {{ page.date | jsonify }},{% if page.lastUpdated %}
    "dateModified": {{ page.lastUpdated | default: page.date | jsonify }},{% endif %}
    "author": {
      "@type": "Person",
      "name": {{ site.author | jsonify }}
    },
    "publisher": {
      "@type": "Organization",
      "name": {{ site.title | jsonify }},
      "url": "{{ site.url }}",
      "logo": {
        "@type": "ImageObject",
        "width": 32,
        "height": 32,
        "url": "{{ site.url }}/favicon.ico"
      }
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ site.url }}{{ page.url }}"
    },
    "image": {
      "@type": "ImageObject",
      "url": "{{ site.url }}/assets/img/posts/{{ page.slug }}/og.JPG"
    }
  }
</script>
